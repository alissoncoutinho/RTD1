@model IEnumerable<Barragem.Models.SnapshotRanking>

    <div class="form-group">
        <label class="col-sm-1 control-label">Liga:</label>
        <div class="col-sm-4">
            <select id="idLiga" name="liga" class="form-control">
                @foreach (var liga in ViewBag.Ligas)
                {
                    <option value="@liga.Id">@liga.Nome</option>
                }
            </select>
        </div>

        <div class="col-sm-4">
            <select id="idSnapshot" name="snapshot" class="form-control">
                @foreach (var snap in ViewBag.SnapshotsDaLiga)
                {
                    <option value="@snap.Id">@snap.Data</option>
                }
            </select>
        </div>
    </div>

    <p>.</p>


    <ul class="nav nav-tabs" id="myTab">
        @{
            var categorias = ViewBag.Categorias;
            var i = 0;
            foreach (Barragem.Models.Categoria cat in categorias)
            {
                var tabName = "#tabCat" + cat.Id;
                if (i == 0)
                {
                    <li class="active"><a href="@tabName" data-toggle="tab">@cat.Nome</a></li>
                }
                else
                {
                    <li><a href="@tabName" data-toggle="tab">@cat.Nome</a></li>
                }
                i++;
            }
        }
    </ul>

    <div class="tab-content">
        @{
            i = 0;
            foreach (Barragem.Models.Categoria cat in categorias)
            {
                var tabName = "tabCat" + cat.Id;
                var tabPane = "tab pane fade";
                if (i == 0) { tabPane = "tab pane fade in active"; }
                <div id="@tabName" class="@tabPane">
                    <br>
                    <div class="box-body table-responsive no-padding">
                        <table class="table table-striped table-condensed table-bordered">
                            <thead>
                                <tr>
                                    <th>Posição</th>
                                    <th>Nome</th>
                                    <th>Pontuação</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (Barragem.Models.SnapshotRanking ranking in Model)
                                {
                                    if (ranking.CategoriaId == cat.Id)
                                    {
                                        <tr>
                                            <td>@ranking.Posicao</td>
                                            <td>@ranking.UserId</td>
                                            <td>@ranking.Pontuacao</td>
                                        </tr>
                                    }
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
                i++;
            }
        }
    </div>
